<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.1">
    <title>Home</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Teko:wght@400;700&display=swap');

        body {
            font-family: 'Teko', sans-serif;
            margin: 0;
            padding: 0;
        }
        /* Estilos para o Header */

        body {
            margin: 0;
            font-family: 'Teko', sans-serif;
            zoom: 110%;
        }

        header {
            background-color: #F8EEFF;
            padding: 10px 10px;
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo-container img {
            height: 70px;
        }

        .nav-links {
            display: flex;
            align-items: center;
            gap: 100px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: black;
            font-size: 20px;
        }

        .nav-icon {
            height: 28px;
            margin-right: 15px;
        }

        .search-container {
            display: flex;
            align-items: center;
            background-color: white;
            border-radius: 20px;
            padding: 5px 10px;
        }

        .search-container input {
            border: none;
            outline: none;
            padding: 5px;
            border-radius: 20px;
        }

        .search-icon {
            height: 24px;
            margin-left: 8px;
        }

        .filter-container {
            background-color: #F57978;
            padding: 15px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: black;
            font-size: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .filter-item {
            flex: 1;
            text-align: center;
        }

        .filter-options {
            flex: 2;
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        .filter-options a {
            color: black;
            text-decoration: none;
        }

        .filter-options a:hover {
            text-decoration: underline;
        }

        .filter-item:last-child {
            text-align: right;
        }

        .filter-item:first-child {
            text-align: left;
        }

        /* Estilo para o carrossel */
        .carousel {
            padding: 20px;
            background-color: #F8F8F8;
        }

        .swiper-container {
            width: 100%;
            height: 100%;
        }

        .swiper-slide {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide-content {
            display: flex;
            align-items: center;
            border-radius: 15px;
            overflow: hidden;
            background-color: #FFF;
        }

        .slide-image {
            width: 50%;
            border-radius: 15px 0 0 15px;
            object-fit: cover;
        }

        .slide-text {
            padding: 20px;
            width: 50%;
        }

        .slide-text h2 {
            margin: 0;
            font-size: 24px;
            color: #333;
        }

        .slide-text p {
            font-size: 16px;
            color: #666;
        }

        /* Botões de navegação */
        .swiper-button-next,
        .swiper-button-prev {
            color: #333;
        }

        /* Estilos para o Footer */

        footer {
            background-color: #F57978;
            padding: 10px 10px;
            border-radius: 15px;
            font-family: 'Teko', sans-serif;
        }

        .subscription-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #F8EEFF;
            padding: 10px 21px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 840px;
            margin: 0 auto;
        }

        .subscription-info {
            font-size: 20px;
            color: black;
            margin-right: 14px;
        }

        .subscription-form {
            display: flex;
            align-items: center;
            gap: 14px;
            flex: 1;
            font-size: 20px;
            font-family: 'Teko', sans-serif;
        }

        .input-field {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 12px;
            flex: 2;
            min-width: 140px;
        }

        .subscribe-button {
            background-color: #F57978;
            color: black;
            border: none;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }

        .subscribe-button:hover {
            background-color: #B3A1D1;
        }


        .footer-info-container {
            background-color: #F8EEFF;
            padding: 20px 10px;
            margin-top: 20px;
            width: 50%;
            box-sizing: border-box;
            margin-left: auto;
            margin-right: auto;
            border-radius: 20px;
        }

        .footer-info {
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 30%;
            max-width: 300px;
        }

        .footer-logo img {
            width: 100%;
            height: auto;
        }

        .footer-details {
            display: flex;
            flex-direction: column;
            font-size: 15px;
            color: #333;
            width: 70%;
            border-top: 10px;
            padding-top: 40px;
        }

        .footer-details a {
            color: #333;
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
            font-size: 15px;
        }

        .footer-details a:hover {
            text-decoration: underline;
        }

        .footer-columns {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .footer-column {
            flex: 1;
            max-width: 300px;
        }

        .footer-column h4 {
            font-size: 15px;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .footer-column p {
            font-size: 15px;
            margin-bottom: 10px;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 20px;
        }

        .footer-bottom p {
            font-size: 15px;
            color: #333;
        }

        /* Estilo para o header */
        header {
            margin-bottom: 0;
        }

        .carousel-container {
            background-color: #F8EEFF;
            padding: 20px 0;
            border-radius: 30px;
        }

        .carousel-inner {
            width: 100%;
            max-width: 1200px;
            height: 344px;
            border-radius: 50px;
            overflow: hidden;
            margin: 0 auto;
            padding: 0 15px;
            background-color: #F8EEFF;
        }

        .carousel-inner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Estilo para a seção de produtos */
        /* Estilo para a seção de produtos */
        .products-section {
            background-color: #F8EEFF;
            padding: 10px 0;
            margin-top: -30px;
        }

        .products-section .container-fluid {
            max-width: 1200px;
            padding: 0 15px;
            margin: 0 auto;
        }

        .products-section .row {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: space-between;
        }

        .products-section .col-2 {
            flex: 1 1 calc(20% - 10px); /* Ajusta o tamanho das colunas */
            box-sizing: border-box;
            max-width: calc(20% - 10px); /* Garante que não exceda o espaço disponível */
        }

        .products-section .product-card {
            border-radius: 16px;
            overflow: hidden;
            background-color: #F8EEFF;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .products-section .product-card:hover {
            transform: scale(1.03);
        }

        .products-section .product-inner {
            border: 1px solid #F57978;
            border-radius: 16px;
            overflow: hidden;
            text-align: center;
            padding: 10px;
        }

        .products-section .product-inner img {
            width: 100%;
            height: auto;
            max-height: 250px;
            object-fit: cover;
        }

        .products-section .product-price {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-top: 10px;
        }

        .products-section .product-name {
            font-size: 16px;
            color: #555;
            margin-top: 5px;
        }

        /* Responsividade */
        @media (max-width: 1200px) {
            .products-section .col-2 {
                flex: 1 1 calc(25% - 10px);
                max-width: calc(25% - 10px);
            }
        }

        @media (max-width: 992px) {
            .products-section .col-2 {
                flex: 1 1 calc(33.33% - 10px);
                max-width: calc(33.33% - 10px);
            }
        }

        @media (max-width: 768px) {
            .products-section .col-2 {
                flex: 1 1 calc(50% - 10px);
                max-width: calc(50% - 10px);
            }
        }

        @media (max-width: 576px) {
            .products-section .col-2 {
                flex: 1 1 100%;
                max-width: 100%;
            }
        }

    </style>
</head>
<body>
<header>
    <div class="header-container">
        <div class="logo-container">
            <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/logo-1.png" alt="Logo 1" class="logo-image">
            <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/logo-2.png" alt="Logo 2" class="logo-image">
        </div>
        <nav class="nav-links">
            <a href="#">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/atendimento-icon.png" alt="Atendimento" class="nav-icon">
                Atendimento
            </a>
            <a href="http://localhost:8080/api/pedidos">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/pedidos-icon.png" alt="Pedidos" class="nav-icon">
                Meus Pedidos
            </a>
            <a href="#" onclick="fetchUserInfo(); return false;">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/usuario-icon.png" alt="Minha Conta" class="nav-icon">
                Minha Conta
            </a>
            <div class="search-container">
                <input type="text" placeholder="Buscar...">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/busca-icon.png" alt="Buscar" class="search-icon">
            </div>
            <a href="http://localhost:8080/api/carrinho">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/carrinho-icon.png" alt="Carrinho" class="nav-icon">
            </a>
        </nav>
    </div>

    <div class="filter-container">
        <div class="filter-item">Todos os produtos</div>
        <div class="filter-options">
            <a href="#">Escrita</a>
            <a href="#">Papelaria</a>
            <a href="#">Cadernos</a>
            <a href="#">Carimbos</a>
            <a href="#">Presentes</a>
            <a href="#">Kits</a>
        </div>
        <div class="filter-item">Novidades</div>
    </div>
</header>

    <section class="carousel-container">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-container">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/banner1.webp" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/banner3.png" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/banner2.webp" alt="Third slide">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</section>

<a href="#" onclick="fetchProductInfo(${produto.id}); return false;">
<section class="products-section">
    <div class="container-fluid">
        <div class="row" id="product-container">
        </div>
    </div>
</section>
</a>

<footer class="footer-container">
    <div class="subscription-container">
        <div class="subscription-info">
            Inscreva-se para receber novidades!
        </div>
        <div class="subscription-form">
            <input type="text" placeholder="Nome" class="input-field">
            <input type="email" placeholder="Email" class="input-field">
            <button class="subscribe-button">Cadastrar</button>
        </div>
    </div>

    <div class="footer-info-container">
        <div class="footer-info">
            <div class="footer-logo">
                <img src="https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/logo.jpg" alt="Logo">
            </div>
            <div class="footer-details">
                <div class="footer-columns">
                    <div class="footer-column">
                        <h4><a href="#">Sobre</a></h4>
                        <a href="#">Termos e Condições</a>
                        <a href="#">Privacidade</a>
                    </div>
                    <div class="footer-column">
                        <h4>Contato</h4>
                        <p>Endereço: Rua Exemplo, 123, Bairro, Cidade</p>
                        <p>Horário de Atendimento: Seg - Sex, 9h - 18h</p>
                        <p>Email: <a href="mailto:contato@exemplo.com">contato@exemplo.com</a></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2024 Todos os direitos reservados. CNPJ: 12.345.678/0001-90</p>
        </div>
    </div>
</footer>

<script>
    async function loadProducts() {
        try {
            const response = await fetch('/api/usuarios/produtos');
            const products = await response.json();

            const productContainer = document.getElementById('product-container');

            const baseImageUrl = 'https://raw.githubusercontent.com/Milena-Silva-Dev/Projeto-Final/master/src/main/resources/static/image/';

            products.forEach(product => {
                const imageUrl = product.imagem ? `${baseImageUrl}${product.imagem}` : 'default-image-url.jpg';
                const productHTML = `
                <div class="col-2">
                    <div class="product-card" onclick="window.location.href='/produto/${product.id}'">
                        <div class="product-inner">
                            <img src="${imageUrl}" alt="${product.nome}">
                            <div class="product-price">${product.preco}</div>
                            <div class="product-name">${product.nome}</div>
                        </div>
                    </div>
                </div>
            `;
                productContainer.innerHTML += productHTML;
            });
        } catch (error) {
            console.error('Erro ao carregar produtos:', error);
        }
    }
    window.onload = loadProducts;


    function fetchUserInfo() {
        fetch('http://localhost:8080/api/usuarios/me', {
            method: 'GET',
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token'),
                'Content-Type': 'application/json'
            }
        })
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Erro ao buscar informações do usuário.');
                }
            })
            .then(data => {
                document.getElementById('nome').value = data.nome;
                document.getElementById('email').value = data.email;
                document.getElementById('cpf').value = data.cpf;
                document.getElementById('rg').value = data.rg;
                document.getElementById('rua').value = data.rua;
                document.getElementById('numero').value = data.numero;
                document.getElementById('cidade').value = data.cidade;
                document.getElementById('municipio').value = data.municipio;
                document.getElementById('cep').value = data.cep;
                document.getElementById('uf').value = data.uf;

                document.getElementById('alterarDadosContainer').style.display = 'block';
            })
            .catch(error => {
                console.error('Erro:', error);
            });
    }

    function fetchProductInfo(productId) {
        fetch(`http://localhost:8080/api/usuarios/produtos/${productId}`, {
            method: 'GET',
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token'),
                'Content-Type': 'application/json'
            }
        })
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Erro ao buscar informações do produto.');
                }
            })
            .then(product => {
                window.location.href = `/produtos/${productId}`;
            })
            .catch(error => {
                console.error('Erro:', error);
            });
    }

</script>

<!-- Bootstrap JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</body>
</html>
